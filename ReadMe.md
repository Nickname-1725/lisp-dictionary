# 仓库简介
本仓库为基于Common Lisp程序设计的英语单词记录、查询命令行工具，用户可根据用户界面的反馈信息的指导完成响应操作，如有疑问，可参考[使用指导](#使用指导)学习。

# 程序结构
`main.lisp`为程序入口，其余组件的组织关系如下：
```
main
├ trie-store
├ vocabulary
└ flow-chart
```

# 运行环境及兼容性
本程序测试环境为Ubuntu 22.04.4 LTS x86_64

经测试可用的Common Lisp实现为
- sbcl/2.4.4
- clisp/2.49.93
- ccl/1.12.2
- ecl/21.2.1
- cmucl/21e

若其它版本或实现中无法运行，请提供反馈。

本程序打包使用的Common Lisp实现及版本为
- sbcl/2.4.4
- clisp/2.49.93
- ccl/1.12.2

关于存档文件的兼容性
1. sbcl打包的程序所产生的存档文件无法被ccl读取，反之则可以
2. 其余任意两两组合可双向读取和转换各自产生的存档文件

# 依赖
使用到的Common Lisp库有
1. cl-ppcre

# 使用指导
本计算机程序的用户可在用户界面的反馈信息的指导下完成相应的用户操作。若有疑问，可参考以下指导进行操作。

本计算机程序提供以下功能：
1. 记录英语单词
   1. 可在主菜单中输入`note-down <单词拼写>`来记录英语单词
   2. 记录成功过后自动跳转到编辑界面
   3. 若单词已经存在，则记录失败，输入`back`返回主菜单
2. 查询英语单词
   1. 可在主菜单中输入`look-up <单词拼写>`来查询英语单词
   2. 查询成功后可进一步选择输入`edit`进入编辑界面，编辑单词；或输入`erase`，进入删除界面，清除单词信息
   3. 若单词不存在，则查询失败，可选择输入`back`返回主菜单或输入`note-down`来增加一条记录；也可输入`fuzzy`进行模糊查找，模糊查找每次补全一个字母，作为提示，且可通过输入`look-up <单词拼写>`指令重新回到单词查询界面
3. 编辑义项
   1. 可在查询后进入的编辑界面输入`append :<词性> <释义>`来添加一条义项记录
   2. 在编辑界面输入`correct :<词性> <新的释义> <编号>`可修改指定的一条义项记录
   3. 在编辑界面输入`remove :<词性> <编号>`可删除指定的一条义项记录
4. 清除英语单词信息
   1. 在查询后进入的删除界面中根据指示输入`remove :<词性> <编号>`可删除指定的一条义项记录
   2. 在删除界面输入`erase`，并在即将弹出的确认信息中输入`y`确认，可删除指定单词的所有信息；若要取消操作，可输入`n`
5. 保存程序存档
   - 在主菜单中输入`store`可保存用户存档
6. 退出
   - 在主菜单中输入`quit`可退出此计算机程序，同时用户存档将在退出前自动保存，无需手动操作


